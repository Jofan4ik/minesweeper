# üß® Minesweeper (C++)

–ü—Ä–æ—Å—Ç–∞—è –∫–æ–Ω—Å–æ–ª—å–Ω–∞—è –∏–≥—Ä–∞ **–°–∞–ø—ë—Ä**, –Ω–∞–ø–∏—Å–∞–Ω–Ω–∞—è –Ω–∞ —è–∑—ã–∫–µ **C++**.

## üéÆ –û–ø–∏—Å–∞–Ω–∏–µ
–ò–≥—Ä–æ–∫ –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç –∫–ª–µ—Ç–∫–∏ –Ω–∞ –ø–æ–ª–µ –∏ —Å—Ç–∞—Ä–∞–µ—Ç—Å—è –Ω–µ –ø–æ–ø–∞—Å—Ç—å –Ω–∞ –º–∏–Ω—É.  
–¶–µ–ª—å –∏–≥—Ä—ã ‚Äî –æ—Ç–∫—Ä—ã—Ç—å –≤—Å–µ –±–µ–∑–æ–ø–∞—Å–Ω—ã–µ –∫–ª–µ—Ç–∫–∏.

## üõ†Ô∏è –¢–µ—Ö–Ω–æ–ª–æ–≥–∏–∏
- –Ø–∑—ã–∫: **C++**
- –ö–æ–º–ø–∏–ª—è—Ç–æ—Ä: `g++` / MSVC
- –°—Ä–µ–¥–∞ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏: **VS Code**

–•—Ä–∞–Ω–µ–Ω–∏–µ —Å–æ—Å—Ç–æ—è–Ω–∏—è –ø–æ–ª—è
```bash
bool mines[MAX_GRID_SIZE][MAX_GRID_SIZE];
bool special99[MAX_GRID_SIZE][MAX_GRID_SIZE];
bool open[MAX_GRID_SIZE][MAX_GRID_SIZE];
bool flag[MAX_GRID_SIZE][MAX_GRID_SIZE];
```
–ö–∞–∂–¥–∞—è –∫–ª–µ—Ç–∫–∞ –ø–æ–ª—è —Ö—Ä–∞–Ω–∏—Ç —Å–≤–æ—ë —Å–æ—Å—Ç–æ—è–Ω–∏–µ:

mines ‚Äî –æ–±—ã—á–Ω—ã–µ –º–∏–Ω—ã

special99 ‚Äî –æ—Å–æ–±—ã–µ –∫–ª–µ—Ç–∫–∏, —Å–æ–∑–¥–∞—é—â–∏–µ ¬´???¬ª(–Ω–µ–∏–∑–≤–µ—Å—Ç–Ω–æ —Å–∫–æ–ª—å–∫–æ –º–∏–Ω —Ä—è–¥–æ–º)

open ‚Äî –æ—Ç–∫—Ä—ã—Ç–∞ –ª–∏ –∫–ª–µ—Ç–∫–∞

flag ‚Äî —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω –ª–∏ —Ñ–ª–∞–≥

## üí£ –ü–æ–¥—Å—á—ë—Ç –º–∏–Ω –≤–æ–∫—Ä—É–≥ –∫–ª–µ—Ç–∫–∏

```bash
int countMines(int y, int x) {
    int c = 0;
    for (int dy = -1; dy <= 1; dy++)
        for (int dx = -1; dx <= 1; dx++) {
            int ny = y + dy, nx = x + dx;
            if (ny >= 0 && ny < gridSize && nx >= 0 && nx < gridSize)
                if (mines[ny][nx]) c++;
        }
    return c;
}
```
–û–ø–∏—Å–∞–Ω–∏–µ:
–§—É–Ω–∫—Ü–∏—è —Å—á–∏—Ç–∞–µ—Ç –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –º–∏–Ω –≤–æ–∫—Ä—É–≥ –≤—ã–±—Ä–∞–Ω–Ω–æ–π –∫–ª–µ—Ç–∫–∏ (–∫–ª–∞—Å—Å–∏—á–µ—Å–∫–∞—è –ª–æ–≥–∏–∫–∞ —Å–∞–ø—ë—Ä–∞).

## üîì–†–µ–∫—É—Ä—Å–∏–≤–Ω–æ–µ –æ—Ç–∫—Ä—ã—Ç–∏–µ –ø—É—Å—Ç—ã—Ö –∫–ª–µ—Ç–æ–∫
```bash
void openCell(int y, int x) {
    if (y < 0 || y >= gridSize || x < 0 || x >= gridSize) return;
    if (open[y][x] || flag[y][x]) return;

    open[y][x] = true;
    if (countMines(y, x) == 0) {
        for (int dy = -1; dy <= 1; dy++)
            for (int dx = -1; dx <= 1; dx++)
                openCell(y + dy, x + dx);
    }
}
```
–û–ø–∏—Å–∞–Ω–∏–µ:
–ï—Å–ª–∏ —É –∫–ª–µ—Ç–∫–∏ –Ω–µ—Ç –º–∏–Ω —Ä—è–¥–æ–º ‚Äî –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ—Ç–∫—Ä—ã–≤–∞—é—Ç—Å—è —Å–æ—Å–µ–¥–Ω–∏–µ –∫–ª–µ—Ç–∫–∏ –∫–∞–∫ –≤ –Ω–∞—Å—Ç–æ—è—â–µ–º —Å–∞–ø—ë—Ä–µ.


## üéØ –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –º–∏–Ω (–ø–æ—Å–ª–µ –ø–µ—Ä–≤–æ–≥–æ –∫–ª–∏–∫–∞)
```bash
void initMines(int excludeY, int excludeX) {
    srand((unsigned)time(0));
    int placed = 0;
    while (placed < mineCount) {
        int x = rand() % gridSize;
        int y = rand() % gridSize;
        if (!mines[y][x] && !(y == excludeY && x == excludeX)) {
            mines[y][x] = true;
            placed++;
        }
    }
}
```
–û–ø–∏—Å–∞–Ω–∏–µ:
–ú–∏–Ω—ã –≥–µ–Ω–µ—Ä–∏—Ä—É—é—Ç—Å—è —Ç–æ–ª—å–∫–æ –ø–æ—Å–ª–µ –ø–µ—Ä–≤–æ–≥–æ –∫–ª–∏–∫–∞, —á—Ç–æ–±—ã –∏–≥—Ä–æ–∫ –Ω–µ –ø—Ä–æ–∏–≥—Ä–∞–ª —Å—Ä–∞–∑—É.

## üß† –ß–∏—Ç-–∫–æ–¥ (CHEAT)
```bash
if (strstr(cheatCode, "CHEAT") != NULL) {
    revealAllMines();
    InvalidateRect(hwnd, NULL, FALSE);
}
```
–û–ø–∏—Å–∞–Ω–∏–µ:
–ï—Å–ª–∏ –≤–≤–µ—Å—Ç–∏ CHEAT —Å –∫–ª–∞–≤–∏–∞—Ç—É—Ä—ã ‚Äî –≤—Å–µ –º–∏–Ω—ã —Ä–∞—Å–∫—Ä—ã–≤–∞—é—Ç—Å—è(–∏–Ω–æ–≥–¥–∞ –Ω—É–∂–Ω–∞ –æ—Ç–∫—Ä—ã—Ç–∞—è –∫–ª–µ—Ç–∫–∞).

## ü§ñ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è —É—Å—Ç–∞–Ω–æ–≤–∫–∞ —Ñ–ª–∞–≥–æ–≤
```bash
if (autoMode && !gameOver) {
    autoSetFlags();
    InvalidateRect(hwnd, NULL, FALSE);
}
```
–û–ø–∏—Å–∞–Ω–∏–µ:
–ü—Ä–∏ –Ω–∞–∂–∞—Ç–∏–∏ –∞–Ω–≥–ª–∏—Å–∫–æ–π –∫–ª–∞–≤–∏—à–∏ A –≤–∫–ª—é—á–∞–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –ø–æ–º–æ—â–Ω–∏–∫, –∫–æ—Ç–æ—Ä—ã–π —Å—Ç–∞–≤–∏—Ç —Ñ–ª–∞–≥–∏ –ª–æ–≥–∏—á–µ—Å–∫–∏.

## üñºÔ∏è –û—Ç—Ä–∏—Å–æ–≤–∫–∞ –∏ –¥–≤–æ–π–Ω–∞—è –±—É—Ñ–µ—Ä–∏–∑–∞—Ü–∏—è
``` bash
HDC memDC = CreateCompatibleDC(hdc);
HBITMAP memBitmap = CreateCompatibleBitmap(hdc, width, height);
```
–û–ø–∏—Å–∞–Ω–∏–µ:
–ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–≤–æ–π–Ω–∞—è –±—É—Ñ–µ—Ä–∏–∑–∞—Ü–∏—è, —á—Ç–æ–±—ã —É–±—Ä–∞—Ç—å –º–µ—Ä—Ü–∞–Ω–∏–µ –∏ —Å–¥–µ–ª–∞—Ç—å –∞–Ω–∏–º–∞—Ü–∏—é –ø–ª–∞–≤–Ω–æ–π.

## üèÜ –ü–æ–±–µ–¥–∞
```bash
ShellExecute(NULL, "open", "victory.png", NULL, NULL, SW_SHOW);
```
–û–ø–∏—Å–∞–Ω–∏–µ:
–ü—Ä–∏ –ø–æ–±–µ–¥–µ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç—Å—è –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ —Å –ø–æ–∑–¥—Ä–∞–≤–ª–µ–Ω–∏–µ–º üéâ


–ö–∞–∫ –∏ —Å –∫–∞—Ä—Ç–∏–Ω–∫–æ–π "victory" –∫ —Ñ–∞–π–ª—É –º–æ–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å –∑–≤—É–∫–∏ –ø—Ä–∏ –æ—Ç–∫—Ä—ã—Ç–∏–∏ –∫–ª–µ—Ç–∫–∏,–ø—Ä–∏ —É—Å—Ç–∞–Ω–æ–≤–∫–µ —Ñ–ª–∞–≥–∞ –∏ –ø—Ä–∏–≤–∑—Ä—ã–≤–µ –º–∏–Ω—ã –≥–ª–∞–≤–Ω–æ–µ —á—Ç–æ –±—ã –±—ã–ª–æ —Ä–∞–∑—à–∏—Ä–µ–Ω–∏–µ .waw –∏ —Å –Ω–∞–∑–≤–∞–Ω–∏—è–º–∏ boom,open,flag.

–†–∞–∑—à–∏—Ä–µ–Ω–∏–µ –∏–º–µ—é—Ç –∑–Ω–∞—á–µ–Ω–∏—è –ø–æ—Ç–æ–º—É —á—Ç–æ —Å –¥—Ä—É–≥–∏–º–∏ –Ω–µ –±—É–¥–µ—Ç —Ä–∞–±–æ—Ç–∞—Ç—å.


## ‚ñ∂Ô∏è –ö–∞–∫ –∑–∞–ø—É—Å—Ç–∏—Ç—å
### Windows (g++)
```bash
g++ minesweeper.cpp -o minesweeper
minesweeper
```
